(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{1632:function(e,t,n){"use strict";n.r(t);var o=n("e843"),i=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t["default"]=i.a},"18aa":function(e,t,n){"use strict";n.r(t);var o=n("50c3"),i=n("1632");for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n("7cbc");var u,c=n("f0c5"),a=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"eff036f4",null,!1,o["a"],u);t["default"]=a.exports},"50c3":function(e,t,n){"use strict";var o;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-around"}},[n("v-uni-input",{attrs:{maxlength:"200",type:"text",placeholder:"请输入token"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}}),n("v-uni-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.login.apply(void 0,arguments)}}},[e._v("登录")])],1),n("v-uni-view",e._l(e.chat_msg,(function(t,o){return n("v-uni-view",[n("v-uni-view",{attrs:{value:t.from_user_name}},[e._v(e._s(t.from_user_name))]),n("v-uni-view",{attrs:{value:t.content}},[e._v(e._s(t.content))]),n("v-uni-view",{attrs:{value:t.send_time}},[e._v(e._s(t.send_time))])],1)})),1),n("v-uni-view",e._l(e.user_login,(function(t,o){return n("v-uni-view",[n("v-uni-view",[e._v(e._s(t.user_name)+"登录了")])],1)})),1),n("v-uni-view",e._l(e.user_logout,(function(t,o){return n("v-uni-view",[n("v-uni-view",[e._v(e._s(t.user_name)+"离开了")])],1)})),1),n("v-uni-view",{staticStyle:{position:"fixed",bottom:"0",display:"flex","justify-content":"space-around"}},[n("v-uni-input",{attrs:{type:"text",placeholder:"请输入内容"},model:{value:e.msg,callback:function(t){e.msg=t},expression:"msg"}}),n("v-uni-button",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chat.apply(void 0,arguments)}}},[e._v("发送")])],1)],1)},s=[]},5438:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,".content[data-v-eff036f4]{display:flex;flex-direction:column;align-items:center;justify-content:center}.logo[data-v-eff036f4]{height:%?200?%;width:%?200?%;margin-top:%?200?%;margin-left:auto;margin-right:auto;margin-bottom:%?50?%}.text-area[data-v-eff036f4]{display:flex;justify-content:center}.title[data-v-eff036f4]{font-size:%?36?%;color:#8f8f94}",""]),e.exports=t},"6a84":function(e,t,n){var o=n("5438");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("cc369332",o,!0,{sourceMap:!1,shadowMode:!1})},"7cbc":function(e,t,n){"use strict";var o=n("6a84"),i=n.n(o);i.a},e843:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{title:"Hello",token:"MTY0MDc3MDExNQytXFQk3faAIhhU9yJ9FkVsQ2BBFnUhouxc3yhHhWZIddxpGfMsKCJ07Mj90fU3CY8wQntqmFQZvzVTSJNwQNBtcEvhJqV22K2Uys71CVqcIzfc9YlBNYR7crmZDOA7cY",websock:null,reconnectData:null,lockReconnect:!1,timeout:1e4,timeoutObj:null,serverTimeoutObj:null,chat_msg:[],user_login:[],user_logout:[],msg:""}},onLoad:function(){this.initWebSocket()},methods:{initWebSocket:function(){var e="ws://192.168.2.107:2345";this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onmessage=this.websocketonmessage,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen:function(){uni.showToast({title:"连接成功"})},websocketonerror:function(){uni.showToast({title:"连接失败"})},websocketclose:function(){uni.showToast({title:"断开连接"})},websocketonmessage:function(e){var t=JSON.parse(e.data);"chat"==t.type?(this.chat_msg.push({type:t.type,from_uid:t.from_uid,from_user_name:t.from_user_name,from_user_header:t.from_user_header,to_uid:t.to_uid,content:t.content,send_time:t.send_time}),console.log(this.chat_msg)):"login"==t.type?this.user_login.push({user_name:t.user_name}):"logout"==t.type&&this.user_logout.push({user_name:t.user_name})},websocketsend:function(e){this.websock.send(JSON.stringify(e))},login:function(){var e={type:"login",token:this.token};this.websocketsend(e)},chat:function(){var e={type:"chat",to_uid:"all",content:this.msg};this.websocketsend(e)}}};t.default=o}}]);